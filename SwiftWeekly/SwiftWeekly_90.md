## 前言

嗨，Swift 社区的小伙伴们～👋

欢迎来到 **第 90 期 Swift 周报**！

每周我们都会一起追踪 Swift 的最新进展、看看开发者们都在讨论什么、顺便学点对工作真有帮助的新东西。本期一样给你带来满满干货，但在开始之前，照例送上一段小小能量补给：

> **“草木需要阳光，生活需要向往。
> 崭新的一天，愿你从容前行，邂逅每一缕芬芳，拥抱每一份希望。”**

祝大家本周都能写出顺心代码、过得比昨天更舒坦 👊

**上期话题投票结果**

![](https://files.mdnice.com/user/47553/169ffcae-62b7-4a23-abb0-685e45543fb7.jpeg)

根据投票结果大家如何看待？

## 本期话题讨论

【本期话题】
最近网上关于“器官移植伦理”的讨论突然炸了：
年轻人猝死、多个器官被捐献、失踪人口、孤儿院、信息化时代的隐私风险……各种新闻交织在一起，让人情绪复杂。

你怎么看待器官移植？

1. 确实挽救了很多命，医学意义巨大。
2. 现实中可能确实更服务“付得起代价的人”。
3. 一旦签了捐献协议，身体如何、何时被使用，普通人无法真正掌控。
4. 身体数据泄漏也在增加风险。
5. 有人甚至认为：“支持自然生老病死，禁止器官移植才是最大公平。”

这个话题挺沉重，但也挺现实。

**欢迎留言区说说你的观点，我们会在下期公布结果！**
别只投不说～大家都爱看你们的看法。

## 新闻和社区

### 苹果创始合伙协议将拍卖，估价高达 400 万美元：最早的“苹果 DNA”重见天日

**2025 年 11 月 26 日**

佳士得宣布，将于 **2026 年 1 月 23 日** 拍卖苹果公司 1976 年创立当天签署的 **原始合伙协议**，估价高达 **200 万至 400 万美元**。这是苹果最早的法律文件之一，被视为“苹果公司真正的出生证明”。

![](https://files.mdnice.com/user/47553/2d267ae2-2217-4ee5-9976-a8f3d8d93e9c.png)

这份三页纸的协议由 **乔布斯、沃兹尼亚克、罗恩·韦恩** 共同签署，记录了苹果最初的股权结构——

* 乔布斯：45%
* 沃兹：45%
* 韦恩：10%

拍卖品还包含韦恩退出苹果的补充协议。1976 年成立后仅 12 天，这位第三位联合创始人以 **800 美元**卖掉全部股权，后续又收到 **1500 美元**作为补偿。韦恩后来回忆，他选择离开，是因为创业太像“过山车”，而他“不想再经历那样的风险人生”。

如果当年这 10% 股份一直保留到今天，按苹果约 **4 万亿美元**的最新估值，理论价值将超过 **4090 亿美元**。当然这只是趣味推算，毕竟四十多年间苹果经历了无数次股本变化，早期比例已无法映射到今天。

值得一提的是，这份创始协议原件在上世纪 90 年代曾被韦恩以 **500 美元**的价格售出。而苹果注册文件上次现身拍场是在 2011 年，当时苏富比以 **近 160 万美元**成交。今年佳士得将“合伙协议 + 退出协议”作为单一拍品，预计会再次引发收藏界和科技圈的广泛关注。

### 苹果再次小规模裁员：销售团队数十人受影响，更多业务或转向第三方渠道

**2025 年 11 月 25 日**

外媒披露，苹果近期对 **销售部门**进行小范围裁员，规模为“数十人级别”，主要集中在面向 **教育、政府与学校客户** 的团队。被裁员工在过去两周陆续收到通知。

这次裁员让人回想起过去三年苹果在人力上的克制策略：

* **2022–2024 年**全球科技公司连续两轮大裁员潮中（微软、亚马逊、谷歌均裁掉万人级员工），苹果却仅两度裁减几百名外包人员；
* **2023 年**苹果曾精简过零售团队；
* 此后一直保持“冻结部分招聘、保留核心研发”路线。

苹果确认了裁员消息，并解释称此次是为了“触达更多客户而进行的团队调整”。被裁员工可在 1 个月内申请苹果内部职位；若 **1 月 20 日** 前未找到合适岗位，将获得补偿并正式离职。

业内普遍认为，此次调整显示苹果正加速将更多销售动作交由 **第三方零售与渠道伙伴**，以降低运营成本、提高效率。在全球经济整体趋紧的背景下，即便是苹果也在重新思考“直营 vs 渠道”的边界。

### “库克明年退休”传闻再起？知名爆料人直接辟谣：纯属子虚乌有

**2025 年 11 月 25 日**

![](https://files.mdnice.com/user/47553/03fe8309-4936-419f-a9a4-148d4c5c1942.png)

近日有多家媒体爆料称，苹果 CEO **蒂姆·库克** 可能会在明年最早卸任，并已开始物色接班人，其中硬件工程高级副总裁 **John Ternus** 被视为“第一顺位候选”。部分报道甚至进一步声称苹果多位高管也将在明年退休，这是十年来规模最大的人事变化。

但最新消息迅速反转。著名爆料人 **Mark Gurman** 在最新通讯中直接否认库克将在 2025 上半年离职，表示这一传闻“完全不属实”。他强调，若库克真的在明年 6 月前退休，那将“让所有业内人士感到震惊”。

不过，Gurman 也确认了两点：

1. **Ternus 的确是最热门继任者** ——50 岁、位置关键、受到库克高度认可；
2. 苹果高管层仍将持续震动，包括芯片负责人 **Johny Srouji** 在内，多名核心高管正在审视自己的下一步。

相比高管层的稳定，苹果目前面临的另一大挑战是：

### OpenAI 正在“成建制”挖苹果

在过去一个月中，OpenAI 已从苹果硬件团队挖走 **40 多人**，涉及相机、iPhone/Mac 硬件、芯片、工业设计、制造、音频、手表、Vision Pro、人体工学等几乎所有关键部门。

自从 OpenAI 收购 Jony Ive 创办的设计公司 io 并筹备 **2026 年首批 AI 硬件**以来，他们正极力从苹果吸取经验与人才，有人甚至戏称“OpenAI 正在从苹果拆一个硬件部门出来”。

苹果内部人士表示，公司对 OpenAI 的激进挖角“极度不满”，并已将其视为需要优先应对的问题。

## 提案

本周 Swift Evolution 社区比较安静，但有两个非常关键、可能影响未来 Swift 体验的大提案正在审查中，值得所有开发者关注。

### 正在审查的提案

[SE-0499](https://github.com/swiftlang/swift-evolution/blob/main/proposals/0499-support-non-copyable-simple-protocols.md "SE-0499") **在简易标准库协议中支持 ~Copyable 与 ~Escapable** 提案正在审查。

这是一个看似“类型系统增强”，但实际会深刻影响 Swift 模型能力的提案。

它要解决的核心问题是：
**当值类型“不适合复制”或“不该逃逸”时，标准库协议是否应该支持？**

为此，提案将以下常用协议全部标记为继承自 non-copyable / non-escapable：

* `Equatable`、`Comparable`、`Hashable`
* `CustomStringConvertible`、`CustomDebugStringConvertible`
* `TextOutputStream`、`TextOutputStreamable`
* 以及 `LosslessStringConvertible`

并同步更新：

* `Optional`
* `Result`

以便它们对包含 non-copyable 值的场景也能安全工作。

[SE-0500](https://github.com/swiftlang/swift-evolution/blob/main/proposals/0500-package-manager-templates.md "SE-0500") **使用自定义模板改进软件包创建：SwiftPM 模板初始化** 提案正在审查。

目前 `swift package init` 功能比较简单，新的提案则让模板也能：

* 像普通 Package 一样分发
* 包含自定义逻辑
* 按照规则生成不同结构
* 满足公司级工程的初始化规范
* 直接通过标准命令行流程运行

这意味着什么？

SwiftPM 的脚手架能力终于追上现代生态了！
未来你可以：

* 一键生成符合公司架构规范的项目
* 创建专属 UI 组件库模板
* 搭建 Server Swift 工程模板
* 为 Swift for Web、SwiftData App、Macro 项目做脚手架

SwiftPM 将从“包管理器”正式升级为“工程生成器”。

## Swift论坛

### 1、Task Cancellation Shields（任务取消屏蔽）

作者：Konrad ‘ktoso’ Malawski ｜ 发布日期：2025 年 11 月 23 日
[阅读原帖](https://forums.swift.org/t/pitch-task-cancellation-shields/83379 "提案 Task Cancellation Shields（任务取消屏蔽）")

社区最近在热议一个非常“缺它不行”的新能力：**Task Cancellation Shields**。它的核心目标是解决一个长期痛点——某些代码即使任务被取消，也必须完整执行（比如清理、资源释放、状态同步）。目前 Swift 的协作式取消机制会在 `await` 或显式检查时抛出错误，导致清理代码可能在取消过程中被打断。

**核心要点：**

* 提案希望引入一个新的区块 API，例如：

  ```swift
  await withTaskCancellationShield {
      // 这段逻辑不受取消影响
  }
  ```

* Shield 区块内部观察不到取消，`Task.isCancelled` 为 false，不会抛出 `CancellationError`。

* 子任务仍会继承真实取消状态，避免破坏结构化并发。

* 最典型场景：`defer`、文件/网络句柄清理、数据库事务收尾等。

**为什么值得关注：**

这是“结构化并发”缺失的一块基础设施，对框架作者尤其重要。社区普遍认为，这个能力可以让 Swift 并发在“取消”场景下更可控、更健壮。

### 2、Inspect Task Execution Time —— 测量 async 任务执行时长

作者：oldbitpicker ｜ 发布日期：2025 年 11 月 22 日
[阅读原帖](https://forums.swift.org/t/inspect-task-execution-time/83368 "讨论：Inspect Task Execution Time —— 测量 async 任务执行时长")

这条讨论聚焦于一个很实际的问题：有没有办法直接从 Swift 并发系统中拿到“某个 async 任务实际跑了多久”？原帖作者希望用于分析性能瓶颈，但 Swift 当前没有直接公开类似的 API。

**讨论亮点：**

* 多位社区成员表示：目前 **没有** 获取任务运行时间的官方入口（即不存在 Task-level profiler API）。

* 建议方式仍是 **自己记录时间戳**：

  ```swift
  let start = ContinuousClock.now
  try await work()
  let duration = start.duration(to: .now)
  ```

* 更深入的需求（例如监控 executor 调度、挂起点次数、执行队列切换）属于 runtime 层。目前 Swift 还未向用户暴露此类信息。

* 有人提出可借助 Instruments 或 Swift concurrency tracing，但那属于外部工具，不是语言级 API。

**小结：**

想要“任务运行时长”这种信息，现阶段仍需要手动计时。社区普遍期待 Swift 未来能提供更细粒度的“任务级 Profiling 支持”。

### 3、Potential Suspension Point —— 静态分析 async 暂停点的提议

作者：Yuki ｜ 发布日期：2025 年 11 月 20 日
[阅读原帖](https://forums.swift.org/t/potential-suspension-point/83344 "提案：Potential Suspension Point")

这是一个和 async/await 编译器相关的提案：希望 Swift 提供“静态标记可能发生挂起的位置”的能力，类似 `await?` 或某种编译器注解，让开发者更容易发现函数内部可能导致 actor-hop 或切换执行点的地方。

**核心要点：**

* 现状：`await` 本身只是一个语法标记，并不能告诉你实际是否会挂起。比如一些函数可能 **在某些条件下挂起**，某些条件下完全同步返回。
* 提案希望引入一种标记方式，让开发者在阅读代码时能更明确知道“这里可能会切换 executor”。
* 作用包括：

  * 优化高性能路径
  * 避免意外的 actor 隔离切换
  * 更精准的调试与性能分析
* 有社区成员担心：这可能让 async 编程模型变复杂，不利于保持 Swift 并发的“易学”目标。

**小结：**

提案本身还在讨论早期，但它确实触及了 Swift 并发的“透明度”问题——开发者越来越需要知道 async 代码到底会不会真的挂起。

### 4、Running func on Background —— 在后台线程运行普通函数

作者：EngOmarElsayed ｜ 发布日期：2025 年  11 月 23 日
[阅读原帖](https://forums.swift.org/t/running-func-on-background/83378 "讨论：Running func on Background —— 在后台线程运行普通函数")

这篇讨论来自一个非常实际的需求：
**当调用方是 `@MainActor` 时，如果我只是想把一个“普通同步函数”丢到后台线程执行，有没有简单优雅的方式？**

典型场景：analytics、日志、轻量后台处理 —— 不想阻塞 UI，也懒得把函数整个改成 async。

**讨论重点：**

* 最简单直接的方式仍然是：

  ```swift
  public func identify(event: IdentifyEvent) {
    Task.detached {
      self.identifySynchronous(event: event)
    }
  }
  ```

  `Task.detached` 不继承 MainActor，因此能直接让同步函数跑在后台 executor。

* 若需要 async 能力，可包一层非 MainActor 的 wrapper（`@concurrent` 标注）。

* 若任务多且需要顺序一致性，建议使用：

  * 事件队列
  * AsyncStream
  * 专门的后台消费器

* 社区的共识：

  > 你想“跳出一个 actor”，就必然涉及“异步”。这是 async 模型的底层语义。

**小结：**

如果是 fire-and-forget 后台任务，`Task.detached` 是最实用的方案；如果你有更复杂的事件流，AsyncStream/队列模型更稳。

### 5、SwiftPM 默认 macOS 版本过低？社区热议“是否需要提升最低版本要求”

作者：MahdiBM ｜ 发布日期：2025 年 11 月 27 日
[阅读原帖](https://forums.swift.org/t/can-swiftpm-not-default-to-low-macos-versions/83441 "讨论：Swift Package Manager (SwiftPM) 是否应该停止默认支持低版本 macOS")

这一讨论触及 Swift 包生态的一个关键问题：
**SwiftPM 目前的默认 macOS 最低版本太老，会阻碍库作者使用现代语言特性。**

例如在 swift-nio 中使用最新的标准库类型（如 Span）时，因为 SwiftPM 默认给出的 macOS 版本过旧，导致这些现代 API 在默认环境下不可用。

**讨论亮点：**

* 很多开发者认为：SwiftPM 的默认 macOS 版本应该提升（例如 10.15+）。
  好处包括：

  * 更容易使用现代语言/运行时特性
  * 减少 availability 判断
  * 减少 fallback 代码
  * 提升 Swift 生态整体“现代化”程度
* 也有人指出：

  * 你仍可以在 Package.swift 中手动指定平台
  * 旧系统支持对一些项目仍然有必要
* 主要挑战来自依赖链：
  如果基础库的最低版本提升，依赖它的所有包都必须跟着升级。

**小结：**

这项讨论反映了 Swift 生态的一个真实矛盾：
“保留旧系统兼容性” vs “拥抱现代语言功能”。
随着新标准库特性不断增加，“提升默认 macOS 最低版本”会越来越像是生态必须面对的方向。

## 推荐博文

以下三篇文章非常值得一读，适合本周“提升技能 + 开阔思路”：

[使用 Foundation Models 框架在 Swift 中构建AI功能](https://juejin.cn/post/7549113302673883146/ "使用 Foundation Models 框架在 Swift 中构建AI功能")

**摘要：** 想在 App 里加入本地 AI 能力？这篇文章手把手教你使用苹果 Foundation Models 框架，实现文本生成、数据解析等AI功能，全程保护用户隐私，代码示例可直接复用。

[iOS 开发者的安全加固工具，从源码到成品 IPA 的多层防护体系实践](https://juejin.cn/post/7577587651894100009/ "iOS 开发者的安全加固工具，从源码到成品 IPA 的多层防护体系实践")

**摘要：**  覆盖从源码保护到 IPA 加固的完整安全方案。文章提供可落地的工具链和实操建议，特别适合需要保护核心代码与业务逻辑的团队参考。

[手游频繁崩溃闪退原因分析与 iOS 崩溃日志解析方法](https://juejin.cn/post/7576479344038658100/ "手游频繁崩溃闪退原因分析与 iOS 崩溃日志解析方法")

**摘要：**  针对游戏和高性能App的崩溃难题，给出清晰的问题分类和解决方案。重点演示如何使用symbolicatecrash和atos快速定位问题，实用性强。

## 关于我们

这是一份由 Swift 爱好者驱动的社区周报，希望用最轻松的方式让你掌握 Swift 世界所有重要变化。

**关注公众号：「Swift社区」**
后台回复 “进群” 即可加入开发者交流圈。

<img width="500" alt="Swift社区" src="https://user-images.githubusercontent.com/24238160/132703149-34121c6c-fd18-491c-a697-58a0fabf3060.png">

如果你有想分享的内容、踩坑故事、或者想投稿的文章，欢迎在留言区告诉我们。

下期见！